(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{326:function(e,t,n){"use strict";n.r(t);var o=n(23),l=(n(224),n(80),n(30),n(164),n(18),n(34),n(38),n(24),n(63),n(3));/^2\./.test(l.a.version)||l.a.util.warn("VueClickaway 2.2.2 only supports Vue 2.x, and does not support Vue "+l.a.version);var c="_vue_clickaway_handler";function r(e,t,n){f(e);var o=n.context,l=t.value;if("function"==typeof l){var r=!1;setTimeout((function(){r=!0}),0),e[c]=function(t){var path=t.path||(t.composedPath?t.composedPath():void 0);if(r&&(path?path.indexOf(e)<0:!e.contains(t.target)))return l.call(o,t)},document.documentElement.addEventListener("click",e[c],!1)}}function f(e){document.documentElement.removeEventListener("click",e[c],!1),delete e[c]}var h={bind:r,update:function(e,t){t.value!==t.oldValue&&r(e,t)},unbind:f};n(37),n(62),n(45),n(39),n(46);Array.from||(Array.from=function(object){return[].slice.call(object)}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var v=Array.from,d=Array.isArray,m=27,y=37,S=38,E=39,w=40,x=function(e,t,n){e&&e.addEventListener&&e.addEventListener(t,n)},M=function(e,t,n){e&&e.removeEventListener&&e.removeEventListener(t,n)},_=function(e){return k(e)?e.getBoundingClientRect():null},k=function(e){return Boolean(e&&e.nodeType===Node.ELEMENT_NODE)},O=function(e){if(!k(e)||(t=document.body,n=e,!t||"function"!=typeof t.contains||!t.contains(n)))return!1;var t,n;if("none"===e.style.display)return!1;var o=_(e);return Boolean(o&&o.height>0&&o.width>0)},L=function(e,t){return v((k(t)?t:document).querySelectorAll(e))},I=function(e,t,n){t&&k(e)&&e.setAttribute(t,n)},A=function(element,e){for(var t=element.parentElement;null!==t&&!t.classList.contains(e);)t=t.parentElement;return t},N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},slot=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})[e]||n[e];return"function"==typeof slot?slot(t):slot},B={components:{VueContext:{directives:{onClickaway:h},props:{closeOnClick:{type:Boolean,default:!0},closeOnScroll:{type:Boolean,default:!0},lazy:{type:Boolean,default:!1},itemSelector:{type:[String,Array],default:function(){return[".v-context-item",".v-context > li > a"]}},role:{type:String,default:"menu"},subMenuOffset:{type:Number,default:10},useScrollHeight:{type:Boolean,default:!1},useScrollWidth:{type:Boolean,default:!1},heightOffset:{type:Number,default:25},widthOffset:{type:Number,default:25},tag:{type:String,default:"ul"}},computed:{style:function(){return this.show?{top:"".concat(this.top,"px"),left:"".concat(this.left,"px")}:null}},data:function(){return{top:null,left:null,show:!1,data:null,localItemSelector:"",activeSubMenu:null}},created:function(){this.localItemSelector=this.mapItemSelector(this.itemSelector)},beforeDestroy:function(){this.closeOnScroll&&this.removeScrollEventListener()},methods:{addScrollEventListener:function(){x(window,"scroll",this.close)},addHoverEventListener:function(element){var e=this;element.querySelectorAll(".v-context__sub").forEach((function(t){x(t,"mouseenter",e.openSubMenu),x(t,"mouseleave",e.closeSubMenu)}))},close:function(){if(this.show){for(;null!==this.activeSubMenu;)A(this.activeSubMenu,"v-context__sub").dispatchEvent(new Event("mouseleave"));this.resetData(),this.removeHoverEventListener(this.$el),this.closeOnScroll&&this.removeScrollEventListener(),this.$emit("close")}},focusItem:function(e,t){var n=t.find((function(t,n){return n===e}));n&&n.focus()},focusNext:function(e,t){var n=this;this.show&&(e.preventDefault(),e.stopPropagation(),this.$nextTick((function(){var o=n.getItems();if(!(o.length<1)){var l=o.indexOf(e.target);t&&l>0?l--:!t&&l<o.length-1&&l++,l<0&&(l=0),n.focusItem(l,o)}})))},getItems:function(){return(L(this.localItemSelector,this.activeSubMenu||this.$el)||[]).filter(O)},mapItemSelector:function(e){return d(e)&&(e=e.map((function(e){return"".concat(e,":not(.disabled):not([disabled])")})).join(", ")),e},onClick:function(){this.close()},onKeydown:function(e){var t=e.keyCode;if(t===m)this.close();else if(t===w)this.focusNext(e,!1);else if(t===S)this.focusNext(e,!0);else if(t===E){var n=A(e.target,"v-context__sub");n&&n.getElementsByClassName("v-context")[0]!==this.activeSubMenu&&(n.dispatchEvent(new Event("mouseenter")),this.focusNext(e,!1))}else if(t===y){if(!this.activeSubMenu)return;var o=A(this.activeSubMenu,"v-context__sub");o.dispatchEvent(new Event("mouseleave"));var l=this.getItems(),c=l.indexOf(o.getElementsByTagName("a")[0]);this.focusItem(c,l)}},open:function(e,data){var t=this;this.data=data,this.show=!0,this.$nextTick((function(){var n=t.positionMenu(e.clientY,e.clientX,t.$el),l=Object(o.a)(n,2);t.top=l[0],t.left=l[1],t.$el.focus(),t.setItemRoles(),t.addHoverEventListener(t.$el),t.closeOnScroll&&t.addScrollEventListener(),t.$emit("open",e,t.data,t.top,t.left)}))},openSubMenu:function(e){var t=this.getSubMenuElementByEvent(e),n=A(t.parentElement,"v-context"),l=_(e.target);if(this.activeSubMenu!==n)for(;null!==this.activeSubMenu&&this.activeSubMenu!==n&&this.activeSubMenu!==t;)A(this.activeSubMenu,"v-context__sub").dispatchEvent(new Event("mouseleave"));t.style.display="block";var c=this.positionMenu(l.top,l.right-this.subMenuOffset,t),r=Object(o.a)(c,2),f=r[0],h=r[1];t.style.left="".concat(h,"px"),t.style.top="".concat(f,"px"),this.activeSubMenu=t},closeSubMenu:function(e){var t=this.getSubMenuElementByEvent(e),n=A(t,"v-context");if(this.activeSubMenu!==t)for(;null!==this.activeSubMenu&&this.activeSubMenu!==t;)A(this.activeSubMenu,"v-context__sub").dispatchEvent(new Event("mouseleave"));t.style.display="none",this.activeSubMenu=n&&A(n,"v-context__sub")?n:null},getSubMenuElementByEvent:function(e){return e.target.getElementsByTagName("ul")[0]},positionMenu:function(e,t,element){var n=this.useScrollHeight?element.scrollHeight:element.offsetHeight,o=window.innerHeight-n-this.heightOffset,l=this.useScrollWidth?element.scrollWidth:element.offsetWidth,c=window.innerWidth-l-this.widthOffset;return e>o&&(e=o),t>c&&(t=c),[e,t]},removeScrollEventListener:function(){M(window,"scroll",this.close)},removeHoverEventListener:function(element){var e=this;element.querySelectorAll(".v-context__sub").forEach((function(t){M(t,"mouseenter",e.openSubMenu),M(t,"mouseleave",e.closeSubMenu)}))},resetData:function(){this.top=null,this.left=null,this.data=null,this.show=!1},setItemRoles:function(){L(this.localItemSelector,this.$el).forEach((function(e){I(e,"role","menuitem"),I(e,"tabindex","-1")}))}},watch:{closeOnScroll:function(e,t){e!==t&&(e&&this.show?this.addScrollEventListener():this.removeScrollEventListener())},itemSelector:function(e,t){e!==t&&(this.localItemSelector=this.mapItemSelector(e))}},render:function(e){if(this.lazy&&!this.show)return e(!1);var t={"!contextmenu":function(e){e.preventDefault()},keydown:this.onKeydown};this.closeOnClick&&(t.click=this.onClick);var n=[{name:"on-clickaway",value:this.close,rawName:"v-on-clickaway"}];return this.lazy||n.push({name:"show",value:this.show,rawName:"v-show",expression:"show"}),e(this.tag,{staticClass:"v-context",style:this.style,attrs:{tabindex:"-1",role:this.role,"aria-hidden":this.lazy?null:String(!this.show)},on:t,directives:n},[N("default",{data:this.data},this.$scopedSlots,this.$slots)])}}},methods:{onClick:function(text){alert('You clicked "'.concat(text,'"!'))}}},C=n(78),component=Object(C.a)(B,(function(){var e=this,t=e._self._c;return t("div",[t("p",{on:{contextmenu:function(t){return t.preventDefault(),e.$refs.menu.open.apply(null,arguments)}}},[e._v("\n        Right click on me\n    ")]),e._v(" "),t("vue-context",{ref:"menu"},[t("li",[t("a",{on:{click:function(t){return t.preventDefault(),e.onClick(t.target.innerText)}}},[e._v("\n                Option 1\n            ")])]),e._v(" "),t("li",[t("a",{on:{click:function(t){return t.preventDefault(),e.onClick(t.target.innerText)}}},[e._v("\n                Option 2\n            ")])])])],1)}),[],!1,null,null,null);t.default=component.exports}}]);